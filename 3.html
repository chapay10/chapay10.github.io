<html>
<head>
    <script src="https://tk-wolf.cs7777.vk.com/js/api/xd_connection.js?2"  type="text/javascript"></script>
</head>
<body>
<script type="text/javascript">
  VK.init(function() { 
    VK.addCallback('onAllowMessagesFromCommunity', function() {
        console.log('Allow');
    });
    VK.addCallback('onAllowMessagesFromCommunityCancel', function() {
        console.log('Cancel');
    });
    VK.addCallback('onSettingsChanged', function() {
        console.log('Changed');
    });
    VK.addCallback('onSettingsCancel', function() {
        console.log('Cances');
    });
  }, function() { 
     // API initialization failed 
     // Can reload page here 
    }, '5.73');
  function AllowMessagesFromCommunityBox() {
    console.log('Click allow');
    group = document.getElementById("group_id").value;
    VK.callMethod('showAllowMessagesFromCommunityBox', group);
  };
    
  function SettingsBox() {
    console.log('Click settings');
    VK.callMethod("showSettingsBox", 8214);
  };
    
   function WallPost() {
    VK.api("wall.post", {"message": "Hello!", "v":"5.90"}, function (data) {
alert("Post ID:" + data.response.post_id);
     });   
   };
       
        function order() {
    var params = {
      type: 'item',
      item: 'item1'
    };
    VK.callMethod('showOrderBox', params);
  }
function resume() {
    VK.callMethod('showSubscriptionBox', 'create', {item: 'item1'});
  };
  
</script>
<hr>
<button onclick="AllowMessagesFromCommunityBox()" class="button">showAllowMessagesFromCommunityBox</button>
<div class="text">Group id:</div>
<input type="text" value="154090051" id="group_id">
<button onclick="SettingsBox()" class="button">showSettingsBox</button>
<button onclick="WallPost()" class="button">wallPost</button>
    <button onclick="order()" class="button">showSubscriptionBox</button>
    <button onclick="resume()" class="button">showSubscriptionBox (resume)</button>
</body>
</html>
